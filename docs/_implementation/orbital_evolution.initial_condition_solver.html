

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>orbital_evolution.initial_condition_solver module &mdash; (P)lanetary (O)rbital (E)volution due to (T)ides  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/unlimited_width.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="orbital_evolution.planet_interface module" href="orbital_evolution.planet_interface.html" />
    <link rel="prev" title="orbital_evolution.evolve_interface module" href="orbital_evolution.evolve_interface.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> (P)lanetary (O)rbital (E)volution due to (T)ides
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../python_interface.html">Python Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../python_stellar_evolution.html">The Python Stellar Evolution Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python_orbital_evolution.html">The Python Orbital Evolution Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basic_utils.html">basic_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="evolution_cmdline_args.html">evolution_cmdline_args module</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="orbital_evolution.html">orbital_evolution package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="orbital_evolution.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stellar_evolution.html">stellar_evolution package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://kpenev.github.io/poet/_static/cpp_doxygen_html/index.html">The C++ interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inclination_eccentricity_equations.html">A detailed derivation of the equations specifying the evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">(P)lanetary (O)rbital (E)volution due to (T)ides</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../python_interface.html">Python Interface</a> &raquo;</li>
        
          <li><a href="modules.html">PythonPackage</a> &raquo;</li>
        
          <li><a href="orbital_evolution.html">orbital_evolution package</a> &raquo;</li>
        
      <li>orbital_evolution.initial_condition_solver module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_implementation/orbital_evolution.initial_condition_solver.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="module-orbital_evolution.initial_condition_solver">
<span id="orbital-evolution-initial-condition-solver-module"></span><h1>orbital_evolution.initial_condition_solver module<a class="headerlink" href="#module-orbital_evolution.initial_condition_solver" title="Permalink to this headline">¶</a></h1>
<div class="section" id="class-inheritance-diagram">
<h2>Class Inheritance Diagram<a class="headerlink" href="#class-inheritance-diagram" title="Permalink to this headline">¶</a></h2>
<div class="graphviz"><img src="../_images/inheritance-4324d892c0f98782274fdaa6e417752fd38e42af.png" alt="Inheritance diagram of Binary, EvolvingStar, InitialConditionSolver, Structure" usemap="#inheritance1ad3d0bfcb" class="inheritance graphviz" /></div>
<map id="inheritance1ad3d0bfcb" name="inheritance1ad3d0bfcb">
<area shape="rect" id="node4" href="orbital_evolution.dissipating_body.html#orbital_evolution.dissipating_body.DissipatingBody" target="_top" title="A base class for any body in a POET system." alt="" coords="5,79,360,104"/>
<area shape="rect" id="node2" href="basic_utils.html#basic_utils.Structure" target="_top" title="An empty class used only to hold user defined attributes." alt="" coords="245,5,400,31"/>
<area shape="rect" id="node3" href="orbital_evolution.binary.html#orbital_evolution.binary.Binary" target="_top" title="A class for binaries POET can evolve." alt="" coords="424,5,645,31"/>
<area shape="rect" id="node6" href="orbital_evolution.star_interface.html#orbital_evolution.star_interface.EvolvingStar" target="_top" title="A class for stars following interpolated stellar evolution tracks." alt="" coords="27,152,339,177"/>
<area shape="rect" id="node5" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver" target="_top" title="Find initial conditions which reproduce a given system now." alt="" coords="670,5,1101,31"/>
</map><p>Define class for finding initial conditions to match current properties.</p>
<dl class="class">
<dt id="orbital_evolution.initial_condition_solver.InitialConditionSolver">
<em class="property">class </em><code class="descclassname">orbital_evolution.initial_condition_solver.</code><code class="descname">InitialConditionSolver</code><span class="sig-paren">(</span><em>*</em>, <em>planet_formation_age=None</em>, <em>disk_dissipation_age=None</em>, <em>evolution_max_time_step=1.0</em>, <em>evolution_precision=1e-06</em>, <em>evolution_timeout=0</em>, <em>orbital_period_tolerance=1e-06</em>, <em>spin_tolerance=1e-06</em>, <em>initial_eccentricity=0.0</em>, <em>initial_inclination=0.0</em>, <em>period_search_factor=2.0</em>, <em>scaled_period_guess=1.0</em>, <em>max_porb_initial=100.0</em>, <em>initial_secondary_angmom=(0.0</em>, <em>0.0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orbital_evolution/initial_condition_solver.html#InitialConditionSolver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<div class="graphviz"><img src="../_images/inheritance-9acc0510ace1640792421dbc1298f11642dc1331.png" alt="Inheritance diagram of orbital_evolution.initial_condition_solver.InitialConditionSolver" usemap="#inheritance700f1926ee" class="inheritance graphviz" /></div>
<map id="inheritance700f1926ee" name="inheritance700f1926ee">
<area shape="rect" id="node1" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver" target="_top" title="Find initial conditions which reproduce a given system now." alt="" coords="5,5,436,31"/>
</map><p>Find initial conditions which reproduce a given system now.</p>
<dl class="method">
<dt id="orbital_evolution.initial_condition_solver.InitialConditionSolver.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>target</em>, <em>star</em>, <em>planet</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orbital_evolution/initial_condition_solver.html#InitialConditionSolver.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Find initial conditions which reproduce the given system now.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> – <p>The target configuration to reproduce by tuning the the
initial conditions for. The following attributes must be
defined:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>age:</dt>
<dd>The age at which the system configuration is known.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Porb:</dt>
<dd>The orbital period to reproduce.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Psurf | Pdisk | Wdisk:</dt>
<dd>The stellar surface spin period to reproduce or the
disk locking period or the disk locking frequency.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The following optional attributes can be specified:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>planet_formation_age:</dt>
<dd>The age at which the planet forms in Gyrs. If not
specified the planet is assumed to form either
‘-past_lifetime’ Gyrs before ‘-age’ or as soon as
the disk dissipates.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>past_lifetime:</dt>
<dd>An alternative way of specifying when the planet
forms. If the ‘-planet_formation-age’ attribute is
not defined, the planet is assumed to form this many
Gyr before ‘-age’.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>disk_dissipation_age:</dt>
<dd>The age at which the disk dissipates in Gyrs. If not
specified, it must have been defined when this solver
was initialized.</dd>
</dl>
</li>
</ul>
</div></blockquote>
</li>
<li><strong>star</strong> – The star to use in the evolution, should be instance of
evolve_interface.EvolvingStar and its dissipative properties
should be defined.</li>
<li><strong>planet</strong> – The planet to use in the evolution. Should be an instance
of evolve_interface.LockedPlanet</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul>
<li><p class="first">Initial orbital period.</p>
<blockquote>
<div><ul class="simple">
<li>Initial disk period if matching observed stellar spin or
stellar spin if initial disk period is specified.</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Further, the solver object has an attribute named ‘binary’ (an
instance of (evolve_interface.Binary) which was evolved from
the initial conditions found to most closely reproduce the
specified target configuration.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbital_evolution.initial_condition_solver.InitialConditionSolver.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>*</em>, <em>planet_formation_age=None</em>, <em>disk_dissipation_age=None</em>, <em>evolution_max_time_step=1.0</em>, <em>evolution_precision=1e-06</em>, <em>evolution_timeout=0</em>, <em>orbital_period_tolerance=1e-06</em>, <em>spin_tolerance=1e-06</em>, <em>initial_eccentricity=0.0</em>, <em>initial_inclination=0.0</em>, <em>period_search_factor=2.0</em>, <em>scaled_period_guess=1.0</em>, <em>max_porb_initial=100.0</em>, <em>initial_secondary_angmom=(0.0</em>, <em>0.0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orbital_evolution/initial_condition_solver.html#InitialConditionSolver.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>planet_formation_age</strong> – If not None, the planet is assumed to form
at the given age (in Gyr). Otherwise, the starting age must be
specified each time this object is called.</li>
<li><strong>disk_dissipation_age</strong> – The age at which the disk dissipates in
Gyrs.</li>
<li><strong>evolution_max_time_step</strong> – The maximum timestep the evolution is
allowed to make.</li>
<li><strong>evolution_precision</strong> – The precision to require of the evolution.</li>
<li><strong>orbital_period_tolerance</strong> – The required precision with which the
orbital period at the present age must be reproduced.</li>
<li><strong>spin_tolerance</strong> – The required precision with which the
primary spin period at the present age must be reproduced.</li>
<li><strong>initial_eccentricity</strong> – The initial eccentricity with which to
start the evolution.</li>
<li><strong>period_search_factor</strong> – The factor by which to change the initial
period guess while searching for a range surrounding the known
present day orbital period.</li>
<li><strong>scaled_period_guess</strong> – The search for initial period to bracked the
observed final period will start from this value multiplied by
the final orbital period.</li>
<li><strong>max_porb_initial</strong> – The largest initial orbital period in days to
try before declaring a set of initial conditions unsolvable.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbital_evolution.initial_condition_solver.InitialConditionSolver._find_porb_range">
<code class="descname">_find_porb_range</code><span class="sig-paren">(</span><em>guess_porb_initial</em>, <em>disk_period</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orbital_evolution/initial_condition_solver.html#InitialConditionSolver._find_porb_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver._find_porb_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Find initial orbital period range where final porb error flips sign.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>guess_porb_initial</strong> – An initial guess for where the sign change
occurs.</li>
<li><strong>disk_period</strong> – The disk locking period to assume during the search.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A pair of initial orbital periods for which the sign of the
final orbital period error changes.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbital_evolution.initial_condition_solver.InitialConditionSolver._try_initial_conditions">
<code class="descname">_try_initial_conditions</code><span class="sig-paren">(</span><em>initial_orbital_period</em>, <em>disk_period</em>, <em>save=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orbital_evolution/initial_condition_solver.html#InitialConditionSolver._try_initial_conditions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver._try_initial_conditions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get present orbital and stellar spin periods for initial conditions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>initial_orbital_period</strong> – The initial orbital period to calculate
the deviation for.</li>
<li><strong>disk_period</strong> – The disk locking period to calculate the deviation
for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>The present day orbital period of the system resulting when
the evolution is started with the input periods.</p>
<p>The present day surface spin of the star resulting when the
evolution is started with the input periods.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbital_evolution.initial_condition_solver.InitialConditionSolver.stellar_wsurf">
<code class="descname">stellar_wsurf</code><span class="sig-paren">(</span><em>wdisk</em>, <em>orbital_period_guess</em>, <em>return_difference=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/orbital_evolution/initial_condition_solver.html#InitialConditionSolver.stellar_wsurf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#orbital_evolution.initial_condition_solver.InitialConditionSolver.stellar_wsurf" title="Permalink to this definition">¶</a></dt>
<dd><p>The stellar spin frquency when reproducing current porb.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>disk_frequency</strong> – The angular velocity of the star when it forms.</li>
<li><strong>orbital_period_guess</strong> – A best guess value for the initial orbital
period.</li>
<li><strong>return_difference</strong> – If True, instead of the actual stellar
angular velocity, the function returns the difference from the
observed value.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li>The angular velocity with which the star spins at the present
age for an evolution scenario which reproduces the current
orbital period. Or the difference between the spin frequency
and the target spin frequency if return_difference is True.</li>
</ul>
<p>The following are returned only if return_difference is False:</p>
<blockquote>
<div><ul class="simple">
<li>The initial orbital period which reproduces the specified
final orbital period as close as possible.</li>
<li>The closest final orbital period found (starting with
porb_initial).</li>
</ul>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a> or (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)">float</a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="orbital_evolution.planet_interface.html" class="btn btn-neutral float-right" title="orbital_evolution.planet_interface module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="orbital_evolution.evolve_interface.html" class="btn btn-neutral" title="orbital_evolution.evolve_interface module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Kaloyan Penev

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>